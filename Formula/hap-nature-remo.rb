# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class HapNatureRemo < Formula
  desc "This app provides homekit virtual devices defined by Nature Remo."
  homepage "https://github.com/legnoh/hap-nature-remo"
  version "0.0.10"
  license "MIT"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/legnoh/hap-nature-remo/releases/download/0.0.10/hap-nature-remo_0.0.10_darwin_amd64.tar.gz"
      sha256 "c0535c25706898fd4790458d7eba1ee575fee1f85c218ab3d30dec3a78b2c11d"

      def install
        bin.install "hap-nature-remo"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/legnoh/hap-nature-remo/releases/download/0.0.10/hap-nature-remo_0.0.10_darwin_arm64.tar.gz"
      sha256 "e3de04fcd1db190da4d6d5ed6b6d570cc1c4bdf6c714d92dc25363c537b67714"

      def install
        bin.install "hap-nature-remo"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/legnoh/hap-nature-remo/releases/download/0.0.10/hap-nature-remo_0.0.10_linux_arm64.tar.gz"
      sha256 "f918507ad9144f7a7fa7844833af5619a9be152c4433be6f908462f5cf6620d4"

      def install
        bin.install "hap-nature-remo"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/legnoh/hap-nature-remo/releases/download/0.0.10/hap-nature-remo_0.0.10_linux_amd64.tar.gz"
      sha256 "b86a708645441ab4c51b3ba3db98d8de2a0ad2005845b735bb5d311c36f24eb1"

      def install
        bin.install "hap-nature-remo"
      end
    end
  end

  def caveats
    <<~EOS
      Please check usage at README:
          https://github.com/legnoh/hap-nature-remo/blob/main/README.md
    EOS
  end

  service do
    run [opt_bin/"hap-nature-remo", "serve"]
    keep_alive true
    log_path var/"log/hap-nature-remo.log"
    error_log_path var/"log/hap-nature-remo.log"
  end

  test do
    system "#{bin}/hap-nature-remo --help"
  end
end
